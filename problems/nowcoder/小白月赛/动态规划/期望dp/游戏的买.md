#### 游戏的买

[E-游戏的买_牛客小白月赛67 (nowcoder.com)](https://ac.nowcoder.com/acm/contest/51458/E)

#### solve

根本无法理解这个问题背景：当前情况下， 最优的选择是什么？概率的应用背景是什么？

主要的问题 ， 最优的策略是什么？

其实问题可以转变成 ， 考虑当前开始选择。然后每一个基本事件中，选出最小的一项。进行期望统计。



定义状态：$dp_{i}$表示只考虑后i个的情况。

状态转移方程
$$
dp_i = min(dp_{i + 1}, a_i)/2.0 + min(dp_i , b_i)/2.0
$$

#### code

```cpp
#include<bits/stdc++.h>
using namespace std;
typedef long long ll;

const int oo = 0x0fffffff;
const int N = 1E6 + 10;

double x[N] , y[N];
double f[N];

void work(int testNo)
{
	int n;
	cin >> n;

	for (int i = 1; i <= n; i++) {
		cin >> x[i];
	}

	for (int i = 1; i <= n; i++) {
		cin >> y[i];
	}
	f[n] = (x[n] + y[n]) / 2.0;
	for (int i = n - 1; i > 0; -- i) {
		f[i] = min(f[i + 1] , x[i]) * 0.5 + min(f[i + 1] , y[i]) * 0.5;
	}
	cout << fixed << setprecision(6) << f[1] << '\n';

}



int main()
{
	ios::sync_with_stdio(false);
	cin.tie(0);

	int t; cin >> t;
	for (int i = 1; i <= t; i++)work(i);
}

/* stuff you should look for
* int overflow, array bounds
* special cases (n=1?)
* do smth instead of nothing and stay organized
* WRITE STUFF DOWN
* DON'T GET STUCK ON ONE APPROACH
*/

```

很抽象还是不大懂。