**牛牛与数组**

https://ac.nowcoder.com/acm/problem/21738

#### 状态设计

1. 定义$f_{i , j}$表示当前数组 ， i位置上放置的是j元素。

#### 状态转移

前缀和优化 ， 再加上一个类似线性筛选的东西。类比埃氏筛法，复杂度为$klogk$

总复杂度为$n*k*log(k)$

#### code

```cpp
#include<bits/stdc++.h>
using namespace std;
using ll = long long;

const int N = 1E6 + 10;
const int mod = 1e9 + 7;
ll f[20][N];
int main()
{
	ios::sync_with_stdio(false);
	cin.tie(0);
	int n , k; cin >> n >> k;
	f[0][1] = 1;
	for (int i = 1; i <= n ; i++) {
		//首先对这个数组的前缀和来一个小的处理：
		ll sum = 0;
		for (int j = 1; j <= k; j ++)
			sum = (sum + f[i - 1][j]) % mod;
		for (int j = 1 ; j <= k; j++) {
			f[i][j] = sum;
			for (int t = j * 2; t <= k; t += j)
				f[i][j] = (f[i][j] - f[i - 1][t] + mod) % mod;
		}
	}
	ll ans = 0;
	for (int i = 1; i <= k; i++) {
		ans = (ans + f[n][i]) % mod;
	}
	cout << ans << '\n';

}

/* stuff you should look for
* int overflow, array bounds
* special cases (n=1?)
* do smth instead of nothing and stay organized
* WRITE STUFF DOWN
* DON'T GET STUCK ON ONE APPROACH
*/
```

