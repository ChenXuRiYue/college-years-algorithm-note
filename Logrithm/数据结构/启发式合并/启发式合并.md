# 启发式合并

### 问题背景：

启发式合并是解决集合合并问题的算法：
所谓启发式算法，是基于人类的经验和直觉，对一些算法的优化。

1. 维护集合的算法一般使用并查集实现，
   1. 某些问题中，要求，合并后每节点的标记直接指向其集合的祖先标记。
   2. 一般的并查集合算法是无法实现的。因为只处理了集合老大的标记指向。
   
2. 问题的一般模型是：
   1. 给定n个集合以及标记函数fa（）。
      1. fa（$a_{ik}$）= $tag_i$ 
   2. 在这些集合上进行一些特殊的合并操作：
      1. 要求合并i , j 操作到 i 之后，其j中的$tag_j$标记严格修改成$tag_i$
   
   ### 解决方法探究：
   
   1. 朴素的合并：
      1. 操作的复杂度是： $O(n^2)$
   2. 直觉上，将小的集合合并到大的集合中去 , 比大集合合并到小集合更优。这种合并操作就是**启发式合并**
   
   ### 启发式合并的复杂度分析：
   
   1. 结论上，复杂度为： $O(nlog(n))$
   
      #### 证明过程如下：
   
      1. 关注角度是每一个元素的贡献。
      2. 考虑每次从小往大合并：
      3. 关注过程中的变化：
         1. 一个小集合并入大集合，那么关注小集合至多变大两倍，这意味着该集合中的元素至多作为小集合合并logn次。所以总体上的时间复杂度是$O(nlogn)$



